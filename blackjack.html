<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Velvet Vault — Blackjack</title>

  <link rel="stylesheet" href="css/vv.tokens.css">
  <link rel="stylesheet" href="css/vv.base.css">
  <link rel="stylesheet" href="css/vv.components.css">
  <link rel="stylesheet" href="css/velvet.css">
  <link rel="stylesheet" href="css/rebirth.css">
  <link rel="stylesheet" href="css/story.css">
  <link rel="stylesheet" href="css/phase4.css">
  <link rel="stylesheet" href="css/pages/blackjack.css">

  <!-- ✅ Auth + Wallet -->
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/guard.js"></script>
  <script type="module" src="js/wallet.js"></script>

  
</head>

<body data-chapter="games">
  <meta name="vv-protected" content="true">
  <div class="vv-bg" aria-hidden="true">
    <div class="vv-bg__layer layer-a"></div>
    <div class="vv-bg__tint"></div>
    <div class="vv-bg__vignette"></div>
    <div class="vv-grain"></div>
  </div>
  <div class="page-bg bg-blackjack"></div>

  <div class="vv-hud" aria-label="Story progress">
    <div class="vv-badge">
      <div class="vv-badge__top">
        <p class="vv-badge__title">Vault Progress</p>
        <span class="vv-badge__pct" data-vv-pct>—%</span>
      </div>
      <div class="vv-bar"><div data-vv-bar></div></div>
      <div class="vv-badge__links">
        <a class="vv-miniLink" href="members.html" data-unlock-key="vip">VIP Floor</a>
        <a class="vv-miniLink" href="terms.html" data-unlock-key="terms">House Rules</a>
      </div>
    </div>
  </div>

  <section class="vv-chapter" aria-label="Chapter intro">
    <div class="vv-chapter__inner">
      <div>
        <p class="vv-chapter__kicker">Games Wing</p>
        <h1 class="vv-chapter__title">Blackjack — The Emerald Count</h1>
        <p class="vv-chapter__desc">Beat the dealer without blinking. Here, calm is currency.</p>
      </div>
      <div class="vv-chapter__actions">
        <a class="btn primary" href="members.html">Back to Lobby</a>
        <a class="btn" href="poker.html">Next: Poker</a>
      </div>
    </div>
  </section>
  <header id="vv-topbar"></header>

<main>
  <section class="stage" aria-label="Blackjack Table">
    <div class="rail" aria-hidden="true"></div>

    <div class="hudRow">
      <div class="pill">Wallet: <b id="walletBal">—</b></div>
      <div class="pill">Bet: <b id="betHud">0</b></div>
      <div class="pill">To Call: <b id="toCallHud">0</b></div>
      <div class="pill">Status: <b id="statusHud">WAITING</b></div>
    </div>

    <!-- Seats + AIs -->
    <div class="seats" aria-hidden="true">
      <div class="seat active" id="s1"><span class="dealerBtn">D</span> YOU</div>
      <div class="seat" id="s2">VIP-1</div>
      <div class="seat" id="s3">VIP-2</div>
      <div class="seat" id="s4">HOUSE DEALER</div>
      <div class="seat" id="s5">VIP-3</div>
      <div class="seat" id="s6">VIP-4</div>
    </div>

    <!-- Dealer hands -->
    <div class="dealerHands" aria-hidden="true">
      <div class="sleeve left"></div>
      <div class="sleeve right"></div>
      <div class="handPalm left" id="handL"></div>
      <div class="handPalm right" id="handR"></div>
    </div>

    <!-- Center pot / bet -->
    <div class="chipRack" id="chipRack">
      <div class="label">TABLE POT</div>
      <div class="value"><b id="pot">0</b> GOLD</div>
    </div>

    <div class="table">
      <div class="zones">
        <div class="zone">
          <h2>Dealer <span class="score">Score: <b id="dealerScore">—</b></span></h2>
          <div class="hand" id="dealerHand"></div>
        </div>

        <div class="zone">
          <h2>You <span class="score">Score: <b id="playerScore">—</b></span></h2>
          <div class="hand" id="playerHand"></div>
        </div>
      </div>
    </div>

    <div class="controlBar">
      <button class="btn green" id="dealBtn">Deal</button>

      <div class="betBox">
        <label>Raise Bet</label>
        <input id="betSlider" type="range" min="50" max="2000" step="50" value="100">
        <div class="pill">Amt: <b id="betAmt">100</b></div>
      </div>

      <button class="btn" id="hitBtn">Hit</button>
      <button class="btn" id="standBtn">Stand</button>
      <button class="btn red" id="doubleBtn">Double</button>
      <button class="btn" id="foldBtn">Fold</button>
      <button class="btn" id="resetBtn">Reset</button>

      <div class="log" id="log">Place your bet. The dealer is watching.</div>
    </div>
  </section>
</main>

<script src="js/games/blackjack.js" defer></script>
<script src="js/story-engine.js"></script>
<script src="js/story-progress.js"></script>
<footer id="vv-footer"></footer>
<script type="module" src="js/ui/topbar.js"></script>
<script type="module" src="js/ui/footer.js"></script>

</body>
</html>
